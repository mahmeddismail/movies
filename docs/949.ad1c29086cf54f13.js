"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[949],{1949:(f,l,o)=>{o.r(l),o.d(l,{WatchlistComponent:()=>p});var n=o(6814),r=o(5290),t=o(9468),d=o(7852);function m(s,c){1&s&&(t.TgZ(0,"div",7)(1,"div",8),t._uU(2," You haven't added any movies to your watchlist. "),t.qZA()())}function h(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,u=t.oxw();return t.KtG(u.deleteUserWatchList(a.id))}),t._UZ(1,"i",26),t.qZA()}}function _(s,c){if(1&s&&(t.TgZ(0,"div",27),t._UZ(1,"i",28),t.TgZ(2,"span",22),t._uU(3),t.qZA()()),2&s){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(3),t.hij(" ",i.userRating[i.myRatedMoviesIds.indexOf(e.id)]," ")}}function g(s,c){if(1&s&&(t.TgZ(0,"div",10)(1,"div",11)(2,"div",12),t._UZ(3,"img",13),t.YNc(4,h,2,0,"button",14),t.qZA()(),t.TgZ(5,"div",15)(6,"h1",16),t._uU(7),t.qZA(),t.TgZ(8,"div",17)(9,"span"),t._uU(10),t.ALo(11,"date"),t.qZA()(),t._UZ(12,"div",18),t.TgZ(13,"div",19)(14,"div",20)(15,"div",20),t._UZ(16,"i",21),t.TgZ(17,"span",22),t._uU(18),t.ALo(19,"number"),t.qZA()(),t.YNc(20,_,4,1,"div",23),t.qZA()(),t.TgZ(21,"div",24)(22,"p"),t._uU(23),t.qZA()()()()),2&s){const e=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.MGl("src","https://image.tmdb.org/t/p/original/",e.poster_path,"",t.LSH),t.xp6(1),t.Q6J("ngIf",null==i.myWatchListMovieIds?null:i.myWatchListMovieIds.includes(e.id)),t.xp6(3),t.Oqu(e.original_title),t.xp6(3),t.Oqu(t.xi3(11,7,e.release_date,"yyyy")),t.xp6(8),t.Oqu(t.xi3(19,10,e.vote_average,"1.1-1")),t.xp6(2),t.Q6J("ngIf",null==i.myRatedMoviesIds?null:i.myRatedMoviesIds.includes(e.id)),t.xp6(3),t.Oqu(e.overview)}}function v(s,c){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,g,24,13,"div",9),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",e)}}let p=(()=>{class s{constructor(e){this._MoviesService=e,this.myWatchList=[],this.deleteWatchList={media_type:"movie",media_id:0,watchlist:!1},this.btnLoading=!1}ngOnInit(){this.getWatchlist(),this.getRatedMovie()}getWatchlist(){this._MoviesService.getWatchlistMovies().subscribe({next:e=>{this.myWatchList=e.results,this.movieGenre=e.results.map(i=>i.genre_ids),this.myWatchListMovieIds=e.results.map(i=>i.id),console.log(this.myWatchListMovieIds),console.log(this.myWatchList)},error:e=>{console.log(e)}})}genres(){this._MoviesService.moviesGenres().subscribe({next:e=>{this.genresIds=e.genres.map(i=>i.id),this.genresName=e.genres.filter(i=>28==i.id),console.log(this.genresName)},error:e=>{console.log(e)}})}getRatedMovie(){this._MoviesService.getRatedMovies().subscribe({next:e=>{this.myRatedMoviesIds=e.results.map(i=>i.id),this.userRating=e.results.map(i=>i.rating)},error:e=>{console.log(e)}})}deleteUserWatchList(e){this.deleteWatchList.media_id=e,this._MoviesService.watchlist(this.deleteWatchList).subscribe({next:i=>{console.log(i),this.getWatchlist()},error:i=>{console.log(i)}})}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(d.I))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-watchlist"]],standalone:!0,features:[t.jDz],decls:8,vars:2,consts:[[1,"py-5"],[1,"container","py-5"],[1,"row","gy-4","mx-5"],[1,"d-flex","justify-content-between","align-items-center","py-3"],[1,"text-white","fw-bold","h3"],["class","row text-gray h1",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row","text-gray","h1"],[1,"d-flex","justify-content-center","align-items-center","vh-100"],["class","row myBoxBorder",4,"ngIf"],[1,"row","myBoxBorder"],[1,"col-md-2"],[1,"position-relative"],["alt","DetailedMovieIMG","alt","watchlistPoster",1,"img-fluid",3,"src"],["class","myRibbon btn cursor-pointer","title","Click to remove from watchlist",3,"click",4,"ngIf"],[1,"col-md-10","text-white"],[1,"h4","fw-bold"],[1,"d-flex","align-items-center","text-gray"],[1,"py-1"],[1,"movieRating","py-1"],[1,"d-flex","align-items-center"],[1,"fa-solid","fa-star","text-warning"],[1,"fw-bold","mx-1","text-gray"],["class","mx-2 d-flex align-items-center",4,"ngIf"],[1,"myOverView","w-50","py-1"],["title","Click to remove from watchlist",1,"myRibbon","btn","cursor-pointer",3,"click"],[1,"fa-solid","fa-check"],[1,"mx-2","d-flex","align-items-center"],[1,"fa-solid","fa-star","text-blue"]],template:function(i,a){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Your Watchlist:"),t.qZA()(),t.YNc(6,m,3,0,"div",5),t.YNc(7,v,2,1,"div",6),t.qZA()()()),2&i&&(t.xp6(6),t.Q6J("ngIf",0==a.myWatchList.length),t.xp6(1),t.Q6J("ngForOf",a.myWatchList))},dependencies:[n.ez,n.sg,n.O5,n.JJ,n.uU,r.Bz],styles:[".myRibbon[_ngcontent-%COMP%]{height:60px;width:38px;border-radius:20%;position:absolute;top:0%;left:0;background-color:#90ee90}@media (max-width: 768px){.myOverView[_ngcontent-%COMP%]{width:100%!important}}"]})}return s})()}}]);